---
layout: default
title: "it \"calls Foo#bar\" — моветон"
---

Ситуация: вы тестируете контроллер, который отправляет тестовое письмо со сводкой по вчерашним продажам. Под капотом контроллер обращается к классу `DailySummaryEmail` и вызывает метод `#test`. Вы пишете тест:

```ruby
it "calls DailySummaryEmail#test" do
```

Это плохое, «машинное» описание проверки. Во-первых, тесты — это примеры использования кода, документация. Это пример чего? Чем он будет полезен читателю?

Во-вторых, это детали реализации, считай, приватный интерфейс. Если переименуем метод или класс, придется поправить и в теле проверки, и в ее описании.

В-третьих, это бесполезные детали. Я из тела проверки вижу, что вызываем `DailySummaryEmail#test`. Делаем-то это зачем? Чтобы что?

Лучше писать для людей, описывая то, что должно происходить в мире читателя:

```ruby
it "sends previous day summary email to marketing department"
```
